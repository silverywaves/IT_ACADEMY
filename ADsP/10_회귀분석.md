## 회귀분석
### 회귀분석의 개요
#### 정의
- 하나 이상의 독립변수들이 연속형 종속 변수에 얼마나 영향을 끼치는지 수치적으로 파악하는 통계 기법
- 변수들 사이의 인과관계를 밝히고 모형을 적합하여 관심있는 변수를 에측하거나 추론


---

#### 회귀분석의 변수
- 영향을 받는 변수(y)
  - 반응변수(Response Variable)
  - 종속변수(Dependent Variable)
  - 결과변수(Outcome Variable)

- 영향을 주는 변수(x)
  - 설명변수(Explanatory Variable)
  - 독립변수(Independent Variable)
  - 예측변수(Predictor Variable)


---

#### 회귀분석 종류
- 단순회귀 : 1개의 독립 변수와 반응 변수 직선(선형) 관계
- 다중회귀 : 2개 이상의 독립변수와 반응변수 직선(선형) 관계
- 다항회귀 : 2개 이상의 독립변수 반응변수와 2차함수 이상의 관계
- 비선형회귀 : 회귀식 미지의 모수들과 선형관계가 아닌 경우
  - ex. 지수함수, 로그함수, 삼각함수 등


---

#### 회귀분석의 가정
- 선형성 : 설명변수(x)와 반응변수(y)는 선형관계
- 독립성 : 독립변수(x)와 반응변수(y)는 서로에게 영향을 주지 않는 독립관계
- 비상관성 : 오차들끼리 상관 X
- 등분산성 : 모든 독립변수에 대해서 반응 변수는 일정한 분산을 보유(같은폭)
- 정규성 : 오차 평균이 μ, 표준편차가 α인 정규분포를 따라야함
  - 잔차도 : 선형회귀모형의 적합성을 파악하기 위해 실제값과 추정치의 잔차를 산점도로 표현


---

### 단순 선형 회귀분석
- 1개의 독립변수(X)에 대하여 종속변수(Y)의 관계를 분석식으로 표현

 
 #### 검토사항
  - 회귀계수들이 유의미한가?  -> 해당 계수의 t-통계량의 p-값이 0.05보다 작으면 통계적으로 유의함
  - 모형이 얼마나 설명력을 갖는가? -> 결정계수 확인(0~1의 값, 높은값일수록 설명력 높음)
  - 모형이 데이터를 잘 적합하고 있는가? -> 잔차를 그래프로 그리고 회귀진단
- 실제 데이터와 오차가 가장 작아지는 직선의 방정식을 찾기 위해 최소 제곱법 활용
  - 잔차제곱이 가장 작은 선을 구함

#### 검정
  - 선형회귀식의 기울기가 0이면 입력변수 x와 출력변수 y사이에는 아무런 인과관계 X
  - 결정계수 : 전체 데이터를 회귀모형이 설명할 수 있는 설명력 의미
    - 단순회귀분석에서 결정계수는 상관계수 r의 제곱과 같음
 
#### 회귀직선의 적합도
  - 결정계수를 통해 추정된 회귀식이 얼마나 타당한지 검토
  - 독립변수가 종속변수 변동의 몇 %를 설명하는지 나타내는 지표
  - 독립변수가 많아지면 결정계수가 높아져 결정계수가 높아지는 단점 발생
  - 수정된 결정계수 : 결정계수 단점 보완 -> 결정계수보다 작은 값으로 산출


---

### 다중선형 회귀분석(다변량회귀분석)
#### 모형의 통계적 유의성
  - F-통계량으로 확인
  - 유의수준 5% 하에서 F-통계량의 p-값이 0.05보다 작으면 통계적으로 유의
    - F-통계량이 크면 p-value가 0.05보다 작아짐 => 귀무가설 기각


#### 회귀계수의 유의성
  - 단변량회귀분석의 회귀계수 유의성 검토와 같이 t-통계량을 통해 확인
  - 모든 회귀계수의 유의성이 통계적으로 검증되어야 선택된 변수들의 조합으로 모형 활용 가능


#### 모형의 설명력
  - 결정계수나 수정된 결정계수 확인

    
#### 모형의 적합성
  - 잔차와 종속변수의 산점도로 확인
 
    
#### 데이터가 전제하는 가정을 만족시키는가?
  - 선형성, 독립성, 등분산성, 비상관성, 정상성
 
    
#### 다중공선성(Multicolinearity)
  - 다중회귀분석에서 설명변수들 사이에 선형관계가 존재하면 회귀계수의 정확한 추정 곤란
  - 검사방법
    - 분산팽창요인(VIF) : 4보다 크면 다중공선성 존재, 10보다 크면 심각한 문제
    - 상태지수 : 10이상이면 문제, 30 이상이면 심각한 문제
      - 문제가 있는 변수를 제거하거나 주성분회귀, 능형회귀 모형을 적용하여 해결
     

---

### 회귀분석의 종류
- 단순회귀
  - 독립변수가 1개
  - 종속변수와의 관계가 직선
 
    
- 다중회귀
  - 독립변수가 k개
  - 종속변수와의 관계가 선형(1차함수)
 
    
- 로지스틱회귀
  - 종속변수가 범주형(2진변수)인 경우
  - 단순로지스틱 회귀 및 다중, 다향 로지스틱 회귀로 확장 가능
 
- 다항회귀
  - 독립변수와 종속변수와의 관계가 1차함수 이상인 관계
  - k=1 이면 2차함수 이상
 
  
- 곡선회귀
  - 독립변수가 1개이며 종속변수와의 관계가 곡선
 
    
- 비선형회귀
  - 회귀식의 모양이 미지의 모수들의 선형관계로 이루어져있찌 않은 모형
 

---

### 최적회귀방정식
#### 최적회귀방정식의 선택
- 설명변수 선택
  - 필요한 변수만 상황에 따라 타협을 통해 선택
  - 설명변수 x들의 수가 많아지면 관리하는데 많은 노력 요구 -> 가능한 범위 내 적은 수 포함

  
- 모형선택(Exploratory Analysis) : 분석 데이터에 가장 잘 맞는 모형을 찾아내는 방법
  - 모든 가능한 조합의 회귀분석
    - 모든 가능한 독립변수들의 조합에 대한 회귀모형 생성 후 가장 적합한 회귀모형 선택
   
  
- 단계적 변수선택(Stepwise Variable SElection)
  - 전진선택법
    - 절편만 있는 상수모형 -> 중요하다고 생각되는 설명변수부터 차례로 모형에 추가
   
  - 후진제거법
    - 독립변수 후보 모두를 포함한 모형 -> 가장 적은 영향을 주는 변수부터 하나씩 제거
      -> 더이상 제거할 변수가 없을 때 모형 선택
  
  - 단계선택법
    - 전진선택법에 의해 변수를 추가하면서 새롭게 추가된 변수에 기인
    - 기존 변수의 중요도가 약화되면 해당 변수를 제거하는 등 단계별로 추가 or 제거되는 변수의 여부 검토 -> 더 없으면 중단
