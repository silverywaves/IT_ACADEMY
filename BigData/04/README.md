# 데이터 전처리
# 1. 데이터 정제	
데이터 정제
---
### 데이터의 종류
- 단변량 데이터

  - 데이터의 특성이 하나인 데이터
 
- 다변량 데이터

  - 데이터의 특성이 두 개 이상인 데이터
 
- **시계열 데이터**

  - 시간 순서에 따라 관측된 데이터
 
<br>

### 데이터 정제
- 집계 : 데이터를 요약 (합계, 평균, 분산, 개수, 최대/최소)

- 일반화 : 데이터의 일반적인 특성 추출

- 정규화 : 데이터를 정해진 구간으로 조정하여 상대적 차이 제거

- **평활화** : 잡음을 제거하여 추세를 부드럽게 만듦 (이동평균법, 지수평균법)

  - 시계열 데이터 분석에서 주로 활용
 
<br>

데이터 결측값 처리	
---
### 결측값 처리
- 존재하지 않는 데이터, null/NA 로 표시, 의미 있는 데이터일수도 있음

  - 단순대치법 : 결측값 가지는 데이터 삭제
 
  - 평균 대치법 : 평균으로 대치
 
  - 회귀 대치법 : 회귀분석의 결과로 대치
 
  - 단순 확률 대치법 : 가까운 값으로 변경 (KNN 활용)
 
  - 다중 대치법 : 여러 번 대치 (**대치 → 분석 → 결합**)
 
<br>

데이터 이상값 처리
---
### 이상값 처리
- 극단적으로 크거나 작은 값, 의미 있는 데이터 일수도 있음 (체중 3kg)

- **이상값을 항상 제거하는 것은 아님**

  - ESD(Extreme Studentized Deviation)
 
    - 평균으로부터 **표준편차의 3배 넘어가는 데이터**는 이상값으로 판단
   
  - 사분위수
 
    - ***Q1 ~ 1.5IQR 보다 작거나, Q3 ~ 1.5IQR 보다 크면** 이상값으로 판단
   
<br>

|-|
|-|
|![스크린샷 2024-08-23 194643](https://github.com/user-attachments/assets/02de3d59-2770-44c0-af07-6603e0a8228d)|

<br>

---

<br>

# 2. 분석 변수 처리
변수 선택
---
### 변수 선택 방법
- 전진선택법 : 변수를 하나씩 추가해 나가는 방법

- 후진제거법 : 변수를 하나씩 제거해 나가는 방법

- 단계별 선택법 : 전진선택법 + 후진제거법

<br>

> 상관계수 매트릭스 분석

|-|X1|X2|X3|X4|
|:-:|:-:|:-:|:-:|:-:|
|X1|1.0|0.21|-0.31|0.95|
|X2|0.21|1.0|0.02|0.13|
|X3|-0.31|0.02|1.0|-0.05|
|X4|0.95|0.13|-0.05|1.0|

- X1 과 X4 가 높은 상관계수를 가지므로, 둘 중 하나의 변수 제거

<br>

#### 💡 상관계수는 -1 ~ 1 사이의 값을 가지며, -1은 음의 상관관계, 1은 양의 상관관계를 의미

<br>

차원축소
---
### 차원의 저주
- 데이터 학습 시 차원이 높아질수록 알고리즘의 성능이 저하되는 현상

<br>

### 주성분 분석 (PCA)
- 상관성 높은 변수들의 선형 겹합으로 차원을 축소하여 새로운 변수 생성

- 지료의 **분산이 가장 큰 축이 첫 번째 주성분**

- **70 ~ 90% 의 설명력**을 갖는 개수로 결정

<br>

### 특이값 분해
- **M X N 크기의 비정방행렬** A를 행렬 분해 (A = U ∑ V^T)

<br>

파생변수 생성
---
### 요약변수와 파생변수
- 요약변수

  - 수집된 정보를 종합한 변수
 
  - **재활용성**이 높음 (1개월간 수입)
 
- 파생변수

  - 의미를 부여한 변수
 
  - **논리적 타당성** 필요 (고객구매등급)
 
<br>

변수 변환
---
### 수치형 자료와 범주형 자료
- 수치형 자료 : 키, 몸무게 등

- 범주형 자료 : 혈액형, 성별 등

<br>

### 수치형 변수 변환
- Z-Score 정규화 : **평균 0, 표준편차 1**로 변환 ~ N(0, 1)

- 최소-최대 정규화 : 0에서 1사이로 변환

- 로그 변환 : 로그를 취한 값으로 변환

<br>

|Z-Score 정규화|최소-최대 정규화|로그 변환|
|-|-|-|
|![스크린샷 2024-08-23 200343](https://github.com/user-attachments/assets/a90ed20d-eb35-4b98-9dcc-566f8738695e)|![스크린샷 2024-08-23 200359](https://github.com/user-attachments/assets/3cd0dbc2-3fc4-4140-8508-c839aceb7073)|![스크린샷 2024-08-23 200413](https://github.com/user-attachments/assets/475f5eb0-45e5-471e-8388-03604c41e06a)|

<br>

### 범주형 변수 변환
- 레이블 인코딩

  - 데이터를 정수로 변환
 
  - 오렌지, 바나나, 포도 → 0, 1, 2
 
- 원-핫 인코딩

  - 고유 값에 **해당하는 컬럼만 1로 표시**하고 나머지는 0으로 표시
 
  - 오렌지, 바나나, 포도 → [1, 0, 0], [0, 1, 0], [0, 0, 1]
 
- 타깃 인코딩

  - 타깃 변수를 **평균값**으로 변환
 
<br>

불균형 데이터 처리
---
### 불균형 데이터의 처리 방법
- 가중치 균형 적용(Weighted Balance)

  - 불균형 데이터에 가중치를 주는 방법
 
- 언더샘플링

  - 다수 데이터의 일부만 선택
 
  - 방법 : 랜덤 추출법, 계통 추출법, 집락 추출법, 층화 추출법
 
- 오버샘플링

  - 소수 데이터를 복사하거나 유사한 데이터를 만드는 방식
 
  - 방법 : SMOTE, ADSYN, ROS
 
<br>

|-|
|-|
|![image](https://github.com/user-attachments/assets/f91a6d88-6eb5-4272-b4ea-e95515c62671)|

<br>













